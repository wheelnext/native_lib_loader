cmake_minimum_required(VERSION 3.26.4 FATAL_ERROR)

project(
  ${SKBUILD_PROJECT_NAME}
  VERSION 0.0.1
  LANGUAGES C
)

find_package({{ project_name }} REQUIRED)

find_package(
  Python
  COMPONENTS Interpreter Development.Module
  REQUIRED)

python_add_library(pylib{{ project_name }} MODULE pylib{{ project_name }}/pylibexample.c WITH_SOABI)
target_link_libraries(pylib{{ project_name }} PRIVATE {{ project_name }}::{{ project_name }})

install(TARGETS pylib{{ project_name }} DESTINATION pylib{{ project_name }})
